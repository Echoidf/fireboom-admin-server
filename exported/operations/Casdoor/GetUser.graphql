query MyQuery($name: String = "", $phone: String = "", $userId: Int @internal, $roleId: Int @internal) {
  token: casdoor_ApiControllerGetUserByToken {
    data {
      access_token
      refresh_token
      username
      expires_in
    }
    success
    msg
  }
  user: main_findFirstuser(
    where: {OR: [{name: {equals: $name}}, {phone: {equals: $phone}}]}
  ) {
    id @export(as: "userId")
    avatar
    roles: _join @transform(get: "data") {
      data: main_findManyrole_user(where: {user_id: {equals: $userId}}) @transform(get: "[]._join.main_findFirstrole.code") {
        role_id @export(as: "roleId")
        _join {
          main_findFirstrole(where: {id: {equals: $roleId}}) {
            code
          }
        }
      }
    }
  }
}